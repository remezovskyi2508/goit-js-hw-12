{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["export default function imgList(photos) {\n  const markup = photos\n    .map(photo => {\n      return `<li class=\"photo-item\">\n        <a href=\"${photo.largeImageURL}\"><img class=\"img-item\" src=\"${photo.webformatURL}\" alt=\"${photo.tags}\"/></a> \n        <div class=\"descr-wrapper\">\n        <p class=\"descr\"><span class='label-img'>Likes</span> ${photo.likes}</p>\n        <p class=\"descr\"><span class='label-img'>Views</span> ${photo.views}</p>\n        <p class=\"descr\"><span class='label-img'>Comments</span> ${photo.comments}</p>\n        <p class=\"descr\"><span class='label-img'>Downloads</span> ${photo.downloads}</p>\n        </div>\n      </li>`;\n    })\n    .join('');\n  return markup;\n}\n","export default function fetchImages(input) {\n  const searchParams = new URLSearchParams({\n    key: '45320962-957458a2920d861910609dde6',\n    q: `${input.value.trim()}`,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n  return fetch(`https://pixabay.com/api/?${searchParams}`).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport imgList from './js/render-functions.js';\nimport fetchImages from './js/pixabay-api.js';\n\nconst form = document.querySelector('#searchForm');\nconst input = document.querySelector('#searchImg');\nconst listImages = document.querySelector('.list-images');\nconst loader = document.querySelector('.loader');\nconst gallery = new SimpleLightbox('.list-images a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\nform.addEventListener('submit', e => {\n  e.preventDefault();\n  listImages.innerHTML = '';\n  loader.style.display = 'block';\n  fetchImages(input)\n    .then(photos => {\n      if (photos.hits.length === 0) {\n        setTimeout(() => {\n          iziToast.error({\n            timeout: 2500,\n            position: 'topRight',\n            message:\n              'Sorry, there are no images matching your search query. Please try again!',\n          });\n          loader.style.display = 'none';\n        }, 3000);\n        return;\n      } else {\n        setTimeout(() => {\n          const markup = imgList(photos.hits);\n          listImages.innerHTML = markup;\n          loader.style.display = 'none';\n          gallery.refresh();\n        }, 1500);\n      }\n    })\n    .catch(error => {\n      console.log(error);\n    });\n\n  input.value = '';\n});\n"],"names":["imgList","photos","photo","fetchImages","input","searchParams","response","form","listImages","loader","gallery","SimpleLightbox","e","iziToast","markup","error"],"mappings":"6vBAAe,SAASA,EAAQC,EAAQ,CActC,OAbeA,EACZ,IAAIC,GACI;AAAA,mBACMA,EAAM,aAAa,gCAAgCA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA,gEAE5CA,EAAM,KAAK;AAAA,gEACXA,EAAM,KAAK;AAAA,mEACRA,EAAM,QAAQ;AAAA,oEACbA,EAAM,SAAS;AAAA;AAAA,YAG9E,EACA,KAAK,EAAE,CAEZ,CCfe,SAASC,EAAYC,EAAO,CACzC,MAAMC,EAAe,IAAI,gBAAgB,CACvC,IAAK,qCACL,EAAG,GAAGD,EAAM,MAAM,KAAM,CAAA,GACxB,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EACD,OAAO,MAAM,4BAA4BC,CAAY,EAAE,EAAE,KAAKC,GAAY,CACxE,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACpB,CAAG,CACH,CCLA,MAAMC,EAAO,SAAS,cAAc,aAAa,EAC3CH,EAAQ,SAAS,cAAc,YAAY,EAC3CI,EAAa,SAAS,cAAc,cAAc,EAClDC,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAU,IAAIC,EAAe,iBAAkB,CACnD,aAAc,MACd,aAAc,GAChB,CAAC,EAEDJ,EAAK,iBAAiB,SAAUK,GAAK,CACnCA,EAAE,eAAc,EAChBJ,EAAW,UAAY,GACvBC,EAAO,MAAM,QAAU,QACvBN,EAAYC,CAAK,EACd,KAAKH,GAAU,CACd,GAAIA,EAAO,KAAK,SAAW,EAAG,CAC5B,WAAW,IAAM,CACfY,EAAS,MAAM,CACb,QAAS,KACT,SAAU,WACV,QACE,0EACd,CAAW,EACDJ,EAAO,MAAM,QAAU,MACxB,EAAE,GAAI,EACP,MACR,MACQ,WAAW,IAAM,CACf,MAAMK,EAASd,EAAQC,EAAO,IAAI,EAClCO,EAAW,UAAYM,EACvBL,EAAO,MAAM,QAAU,OACvBC,EAAQ,QAAO,CAChB,EAAE,IAAI,CAEf,CAAK,EACA,MAAMK,GAAS,CACd,QAAQ,IAAIA,CAAK,CACvB,CAAK,EAEHX,EAAM,MAAQ,EAChB,CAAC"}